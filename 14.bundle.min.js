(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{353:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(1),r=t.n(l),s=t(67),m=t(123),o=t(16),i=t(2),u=t(43),d=t.n(u),p=t(17),E=t.n(p),f=t(23),N=t.n(f),b=t(85),g=t(97),v=t.n(g),h=t(37),y=t(35),C=t(99),w=t(29),k=t(51),S=t(52),x=t(96),j=t(21),G=function(e){var a=Object(n.useState)(!1),t=E()(a,2),l=t[0],r=t[1],s=Object(n.useState)(!0),m=E()(s,2),o=m[0],u=m[1],p=Object(n.useState)([]),f=E()(p,2),b=f[0],g=f[1],G=Object(n.useState)([]),O=E()(G,2),A=O[0],P=O[1],D=Object(n.useState)([]),F=E()(D,2),I=F[0],T=F[1],L=Object(n.useState)([]),M=E()(L,2),U=M[0],V=M[1],q=Object(n.useState)("manual-create"),R=E()(q,2),B=R[0],z=R[1],Y=Object(h.a)(),W=Y.register,K=Y.handleSubmit,Z=Y.errors,$=Y.formState,J=b.map((function(e){return{label:e.name+" ("+e.contactsCount+")",value:e.id,data:e}}));Object(n.useEffect)((function(){Q()}),[]);var H,Q=function(){x.a.getCountries().then((function(e){T(e.result.data)})),S.a.loadAllGroups().then((function(e){g(e.result.data)}))},X=function(e){V(e)};return c.a.createElement("form",{onSubmit:K((function(a,t){(r(!0),a.country={id:a.country},"import-contacts"===B)?(a.files=A,a.groups=U.map((function(e){return e.data.uuid})).join(","),(a.groups.length?k.a.uploadGroupContacts(a):k.a.uploadContacts(a)).then((function(a){a.success&&(y.a.success(a.message,{position:"top-right"}),t.target.reset(),P([]),r(!1),e.cancel())}),(function(e){y.a.error(e.message,{position:"top-right"}),r(!1)}))):(a.groups=U?U.map((function(e){return e.data})):[],k.a.createContact(a).then((function(a){a.success&&(y.a.success(a.message,{position:"top-right"}),N.a.publish("CONTACTS:ADDED",a.result.data),t.target.reset(),V([]),r(!1),e.cancel())}),(function(e){y.a.error(e.message,{position:"top-right"}),r(!1)})))}))},c.a.createElement("div",{className:"modal-body "+(l?"spinner pl-0":"")},c.a.createElement(i.a,{isLoading:l}),c.a.createElement("div",{className:"form-group"},c.a.createElement("div",{className:"selectgroup w-100"},c.a.createElement("label",{className:"selectgroup-item"},c.a.createElement("input",{type:"radio",name:"transportation",defaultValue:"manual-create",className:"selectgroup-input",defaultChecked:"manual-create"===B}),c.a.createElement("span",{className:"selectgroup-button selectgroup-button-icon font-weight-bold",onClick:function(){return z("manual-create")}},c.a.createElement("i",{className:"fa fa-user-plus"}),"  Create Manually")),c.a.createElement("label",{className:"selectgroup-item"},c.a.createElement("input",{type:"radio",name:"transportation",defaultValue:"import-contacts",className:"selectgroup-input",defaultChecked:"import-contacts"===B}),c.a.createElement("span",{className:"selectgroup-button selectgroup-button-icon font-weight-bold",onClick:function(){return z("import-contacts")}},c.a.createElement("i",{className:"fa fa-users"}),"  Import Contacts")))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"groups",className:"form-control-label"},"Select Contact Groups:"),c.a.createElement(C.a,{id:"groups",name:"groups",isMulti:!0,options:J,value:U,closeMenuOnSelect:!1,placeholder:"Search Contact Groups",onChange:X}),c.a.createElement("div",{className:"help-block text-primary text-small"},c.a.createElement("strong",null,c.a.createElement("i",{className:"fa fa-info-circle"})," Info:"," "),"If you select any groups, the created contact will automatically be linked to the selected group. If not, you can always add later."))),(H="","manual-create"!==B&&(H=c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"csvFiles",className:"form-control-label mb-1"},"Drag and Drop CSV file: ",c.a.createElement("span",{className:"text-danger"},"*")),c.a.createElement("div",{className:"help-block text-info text-label mb-2"},c.a.createElement("strong",null,c.a.createElement("i",{className:"fa fa-info-circle"})," Info:"," "),"You can download the sample"," ",c.a.createElement("a",{className:"font-weight-bold",href:"/assets/downloads/contacts-list-template.csv",download:"contacts-list-template.csv"},"contact-list-template.csv")," ","file here."),c.a.createElement("div",{className:"dropzone-custom"},c.a.createElement("input",{id:"csvFiles",name:"csvFiles",type:"file",className:"form-control",placeholder:"Select Contacts CSV File",onChange:function(e){e.target.files.length&&P([].concat(d()(A),[e.target.files[0]]))},ref:W({name:"csvFiles"},{validate:function(){return!(!A||!A.length)||"Please select at least one proper CSV file."}})}),c.a.createElement("div",{className:"jumbotron mb-0"},c.a.createElement("div",{className:"text-primary text-center"},c.a.createElement("strong",null,c.a.createElement("i",{className:"fa fa-info-circle"})," Info:"," ")," ","Drag your files here or click in this area to add more files",c.a.createElement("div",{className:"text-warning"},"Allowed file size 5MB and type CSV")))),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:A.length?null:Z.csvFiles}))),c.a.createElement("div",{className:"form-group"},A.length?c.a.createElement("label",{className:"form-control-label"},"Selected Files:"):"",A.map((function(e,a){return c.a.createElement("div",{className:"text-left mb-2",key:"file"+a},c.a.createElement("span",{className:"badge badge-success mr-2"},e.name," ",c.a.createElement("span",{className:"text-primary"},j.a.formatBytes(e.size))),c.a.createElement("span",{type:"button",className:"badge badge-danger",onClick:function(){return e=a,void P(A.filter((function(a,t){return t!==e})));var e}},c.a.createElement("i",{className:"fa fa-times"})))}))))),H)),c.a.createElement("div",{className:"row"},function(){var e,a="";"manual-create"===B&&(a=c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-control-label",htmlFor:"input-first-name"},"First Name: ",c.a.createElement("span",{className:"text-danger"},"*")),c.a.createElement("input",{id:"input-first-name",name:"firstName",className:"form-control"+j.a.checkValadity("firstName",Z,$),placeholder:"Enter First Name",ref:W({required:"Please enter first name."})}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:Z.firstName})))),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-control-label",htmlFor:"input-last-name"},"Last Name: ",c.a.createElement("span",{className:"text-danger"},"*")),c.a.createElement("input",{id:"input-last-name",name:"lastName",className:"form-control"+j.a.checkValadity("lastName",Z,$),placeholder:"Enter Last Name",ref:W({required:"Please enter last name."})}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:Z.lastName}))))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-control-label",htmlFor:"input-device"},"Choose Country:"),c.a.createElement("select",{id:"input-device",name:"country",className:"custom-select"+j.a.checkValadity("country",Z,$),ref:W({required:"Please select a Country"})},c.a.createElement("option",{key:"opt-no-device",value:""},"Select Contact Country"),I.map((function(e){return c.a.createElement("option",{key:e.countryCode,value:e.id},j.a.truncateString(e.name,30)," (",e.dialCode,")")}))),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:Z.smsDeviceId})))),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-control-label",htmlFor:"input-phone-number"},"Phone Number: ",c.a.createElement("span",{className:"text-danger"},"*")),c.a.createElement("input",{id:"input-phone-number",name:"phoneNumber",className:"form-control"+j.a.checkValadity("phoneNumber",Z,$),placeholder:"Enter Phone Number",ref:W({required:"Enter contact phone number.",minLength:{value:9,message:"Phone Number should be of 9 digits."},maxLength:{value:13,message:"Phone Number should be of 13 digits."},pattern:{value:/^[0-9]{9,13}$/i,message:"Entered phone number is not a valid number."}})}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:Z.phoneNumber}))))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-control-label",htmlFor:"input-email"},"Email Address:"),c.a.createElement("input",{id:"input-email",name:"email",className:"form-control"+j.a.checkValadity("email",Z,$),placeholder:"john@example.com",ref:W({pattern:{value:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i,message:"Invalid Email address provided."}})}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:Z.email})))),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"tags",className:"form-control-label"},"Add Tags:"),c.a.createElement("input",{type:"text",id:"tags",name:"tags",className:"form-control",placeholder:"#artist, #designer, #cyclist, #teacher, ...",ref:W}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{field:"Tags",error:Z.tags}))))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"notes",className:"form-control-label"},"Notes for the contact:"),c.a.createElement("textarea",{name:"notes",rows:"3",className:"form-control",placeholder:"A few words about your contact ...",ref:W}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{field:"Contact Notes",error:Z.notes})))),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"custom-switch mt-0 pl-0"},c.a.createElement("input",(e={name:"isActive",type:"checkbox"},v()(e,"name","custom-switch-checkbox"),v()(e,"value",o),v()(e,"className","custom-switch-input"),v()(e,"defaultChecked",o),v()(e,"ref",W()),e)),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:Z.isActive})),c.a.createElement("span",{className:"custom-switch-indicator",onClick:function(){return u(!o)}}),c.a.createElement("span",{className:"custom-switch-description"},"Keep as active contact?")))))));return a}())),c.a.createElement("div",{className:"modal-footer bg-whitesmoke"},c.a.createElement("div",{className:"text-left"},c.a.createElement("button",{className:"btn btn-lg btn-success mr-2",type:"reset"},"Clear Form"),c.a.createElement("button",{className:"btn btn-lg btn-primary mr-2",disabled:$.isSubmitting,type:"submit"},"Save Contact Details"),c.a.createElement("button",{className:"btn btn-lg btn-danger mr-2",type:"buton","data-dismiss":"modal",onClick:e.cancel},"Cancel"))))};G.propTypes={cancel:r.a.func};var O=G,A=function(e){var a=Object(n.useState)(!1),t=E()(a,2),l=t[0],r=t[1],m=Object(n.useState)(!1),u=E()(m,2),p=u[0],f=u[1],g=Object(n.useState)(10),v=E()(g,2),h=v[0],y=v[1],C=Object(n.useState)(0),w=E()(C,2),S=w[0],x=w[1],j=Object(n.useState)({count:0,items:[]}),G=E()(j,2),A=G[0],P=G[1];Object(n.useEffect)((function(){return I(),function(){N.a.clearAllSubscriptions()}}),[]);var D,F,I=function(){N.a.subscribe("CONTACTS:ADDED",(function(e,a){"CONTACTS:ADDED"===e&&T(a)})),L(S)},T=function(e){P((function(a){return{count:a.count++,items:[].concat(d()(a.items),[e])}}))},L=function(e){f(!0),k.a.loadPaginatedContacts(e,h).then((function(a){f(!1),a.success&&(x(e),y(h),P(a.result.data))}),(function(e){f(!1),console.log(e.message)}))},M=function(e,a,t,n){e.preventDefault(),k.a.quickUpdateUserContact(a,t,n).then((function(e){e.success?(P({count:A.count,items:A.items.map((function(t){return t.uuid===a?e.result.data:t}))}),N.a.publish("SUCCESS:MESSAGE",e.message)):N.a.publish("ERROR:MESSAGE",e.message)}))},U=function(){r(!l)};return c.a.createElement(s.a,{in:!0,appear:!0,timeout:1500,classNames:"fade"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h4",null,c.a.createElement("i",{className:"fa fa-users"})," ",e.title,c.a.createElement("span",{type:"button",className:"btn btn-primary btn-md ml-3",onClick:function(){return U()}},c.a.createElement("i",{className:"fa fa-user-plus"})," "," Create New Contact")),c.a.createElement("div",{className:"card-header-action"},c.a.createElement("span",{className:"btn btn-info btn-sm"}," ",c.a.createElement("i",{className:"fa fa-list"})," Total: ",A.count," Contacts"))),c.a.createElement("div",{className:"card-body p-0"},c.a.createElement("div",{className:"standard-table"+(p?"spinner":"")},c.a.createElement(i.a,{isLoading:p}),c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table table-stripped"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null),c.a.createElement("th",null,"Contact Name"),c.a.createElement("th",null,"Country"),c.a.createElement("th",null,"Phone Number"),c.a.createElement("th",null,"Contact Tags"),c.a.createElement("th",null,"Active?"),c.a.createElement("th",null,"Blocked?"),c.a.createElement("th",null))),c.a.createElement("tbody",null,A.items.length?A.items.map((function(e){return c.a.createElement("tr",{key:e.uuid},c.a.createElement("td",{className:"text-center"},c.a.createElement("span",{className:e.isFavourite?"text-warning":"",type:"button"},c.a.createElement("i",{className:"fa fa-star",onClick:function(a){return M(a,e.uuid,"favorite",!e.isFavourite)}}))),c.a.createElement("td",null,c.a.createElement("img",{alt:"image",src:"/assets/img/avatar/avatar-5.png",className:"rounded-circle mr-2",width:"32","data-toggle":"title"}),e.firstName," ",e.lastName),c.a.createElement("td",null,c.a.createElement("span",{className:"mr-2"},e.country.name," (",e.country.dialCode,")")),c.a.createElement("td",null,c.a.createElement("span",{className:"mr-2"},e.phoneNumber),"NTC"===e.simType?c.a.createElement("span",{className:"badge custom-badge badge-info"},e.simType):"NCELL"===e.simType?c.a.createElement("span",{className:"badge custom-badge badge-primary"},e.simType):c.a.createElement("span",{className:"badge custom-badge badge-warning"},e.simType)),c.a.createElement("td",{className:"text-primary"},e.tags),c.a.createElement("td",{className:"text-center"},c.a.createElement("div",{className:"badge badge-"+(e.isActive?"success":"danger")},e.isActive?"Yes":"No")),c.a.createElement("td",{className:"text-center"},c.a.createElement("div",{className:"badge badge-"+(e.isBlocked?"success":"danger")},e.isBlocked?"Yes":"No")),c.a.createElement("td",null,c.a.createElement("div",{className:"text-right dropdown"},c.a.createElement("button",{type:"button",className:"btn btn-outline-primary btn-md","data-toggle":"dropdown"},c.a.createElement("span",{className:"fa fa-ellipsis-v"})," Actions"),c.a.createElement("div",{className:"dropdown-menu dropdown-menu-right"},c.a.createElement("div",{className:"dropdown-title"},"Actions"),c.a.createElement(o.b,{className:"dropdown-item text-primary",to:"/dashboard/contacts/"+e.uuid+"/view"},c.a.createElement("i",{className:"fa fa-eye mr-2"})," View Details"),c.a.createElement(o.b,{className:"dropdown-item text-success",to:"/dashboard/contacts/"+e.uuid+"/edit"},c.a.createElement("i",{className:"fa fa-edit mr-2"})," Edit Details"),c.a.createElement("div",{className:"dropdown-divider"}),c.a.createElement("a",{className:"dropdown-item text-danger",href:"#",onClick:function(a){return M(a,e.uuid,"blocked",!e.isBlocked)}},c.a.createElement("i",{className:"fa fa-ban mr-2"})," ",e.isBlocked?"Unblock Contact":"Block Contact"),c.a.createElement("a",{className:"dropdown-item text-info",href:"#",onClick:function(a){return M(a,e.uuid,"active",!e.isActive)}},c.a.createElement("i",{className:"fa fa-check-circle mr-2"})," ",e.isActive?"Deactivate":"Activate"),c.a.createElement("a",{className:"dropdown-item text-warning",href:"#",onClick:function(a){return M(a,e.uuid,"favorite",!e.isFavourite)}},c.a.createElement("i",{className:"fa fa-star mr-2"})," ",e.isFavourite?"Remove Favorite":"Make Favorite"),c.a.createElement("div",{className:"dropdown-divider"}),c.a.createElement("a",{className:"dropdown-item has-icon text-danger",href:"#",onClick:function(a){return t=a,n=e.uuid,t.preventDefault(),void k.a.deleteContactById(n).then((function(e){e.success?(N.a.publish("SUCCESS:MESSAGE",e.message),P({count:A.count--,items:A.items.filter((function(e){return e.uuid!==n}))})):N.a.publish("ERROR:MESSAGE",e.message)}));var t,n}},c.a.createElement("i",{className:"fa fa-trash-alt mr-2"})," Delete Contact")))))})):c.a.createElement("tr",{className:"text-warning text-center"},c.a.createElement("td",{colSpan:7},c.a.createElement("strong",null,c.a.createElement("i",{className:"fa fa-info-circle"})," Info:"),c.a.createElement("span",{className:"mr-4"}," There are no contacts yet!")))))))),c.a.createElement("div",{className:"card-footer"},(D=A.count||0,F=Math.ceil(D/h),c.a.createElement("nav",{"aria-label":"Contacts Pagination"},c.a.createElement("ul",{className:"pagination justify-content-center mb-0"},c.a.createElement("li",{className:"page-item "+(S<=0?"disabled":"")},c.a.createElement("button",{type:"button",className:"page-link",tabIndex:"-1",onClick:function(){return L(S-1)}},c.a.createElement("i",{className:"fas fa-angle-left"}),c.a.createElement("span",{className:"sr-only"},"Previous"))),function(){for(var e=[],a=function(a){e.push(c.a.createElement("li",{className:"page-item"+(a===S?" active":""),key:a,onClick:function(){return L(a)}},c.a.createElement("button",{type:"button",className:"page-link"},a+1)))},t=0;t<F;t++)a(t);return c.a.createElement(n.Fragment,null,e)}(),c.a.createElement("li",{className:"page-item "+(F===S+1?"disabled":"")},c.a.createElement("button",{type:"button",className:"page-link",onClick:function(){return L(S+1)}},c.a.createElement("i",{className:"fas fa-angle-right"}),c.a.createElement("span",{className:"sr-only"},"Next"))))))),c.a.createElement(b.a,{isOpen:l,header:c.a.createElement((function(){return c.a.createElement("div",{className:"row align-items-center"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("h5",{className:"mb-0"},"New Contact's Details"),c.a.createElement("div",{className:"text-success text-small"},c.a.createElement("strong",null,c.a.createElement("i",{className:"fa fa-info-circle"})," Info:"," "),"We'll never share your information to anyone and your contact information will be saved using"," ",c.a.createElement("strong",null,"bank level security"),".")))}),null),content:c.a.createElement(O,{cancel:U}),closeModal:U})))};A.propTypes={title:r.a.string};var P=c.a.memo(A),D=function(e){var a=Object(n.useState)({}),t=E()(a,2),l=t[0],r=t[1],m=Object(n.useState)(!1),u=E()(m,2),d=u[0],p=u[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){p(!0),k.a.loadContactByUuid(e.match.params.contactId).then((function(e){r(e.result.data),p(!1)}))};return c.a.createElement("div",{className:d?"spinner":""},c.a.createElement(i.a,{isLoading:d}),c.a.createElement(s.a,{timeout:1500,classNames:"fade"},c.a.createElement("div",{className:"card card-info"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h4",null,c.a.createElement("i",{className:"fa fa-address-card"})," Contact Details")),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"mt-2 mb-1 section-title"},"Full Name:"),c.a.createElement("div",{className:"card card-body bg-light mb-1"},c.a.createElement("span",{className:"font-weight-bold"},l.firstName," ",l.lastName))),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"mt-2 mb-1 section-title"},"Email:"),c.a.createElement("div",{className:"card card-body bg-light mb-1"},c.a.createElement("span",{className:"font-weight-bold"},l.email))),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"mt-2 mb-1 section-title"},"Phone Number:"),c.a.createElement("div",{className:"card card-body bg-light mb-1"},c.a.createElement("span",{className:"font-weight-bold"},void 0!==l.country?l.country.dialCode:""," ",l.phoneNumber," (",l.simType,")"))),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"mt-2 mb-1 section-title"},"Tags:"),c.a.createElement("div",{className:"card card-body bg-light mb-1"},c.a.createElement("span",{className:"font-weight-bold"},l.tags))),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"mt-2 mb-1 section-title"},"Notes:"),c.a.createElement("div",{className:"card card-body bg-light mb-1"},c.a.createElement("span",{className:"font-weight-bold"},l.notes))))),c.a.createElement("div",{className:"card-footer"},c.a.createElement(o.b,{className:"btn btn-lg btn-danger mr-2",to:"/dashboard/contacts"},"Cancel")))))};D.propTypes={title:r.a.string,match:r.a.any};var F=Object(m.g)(D),I=t(101),T=function(e){var a=Object(n.useState)(!0),t=E()(a,2),l=t[0],r=t[1],s=Object(n.useState)(!1),m=E()(s,2),o=m[0],u=m[1],d=Object(n.useState)([]),p=E()(d,2),f=p[0],b=p[1],g=Object(h.a)(),v=g.register,y=g.handleSubmit,C=g.errors,x=g.formState;Object(n.useEffect)((function(){j()}),[]);var j=function(){};return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{onSubmit:y((function(a,t){u(!0),a.userContacts=f.map((function(e){return e.data})),S.a.createGroup(a).then((function(a){a.success&&(N.a.publish("GROUPS:ADDED",a.result.data),t.target.reset(),u(!1),e.cancel())}),(function(e){N.a.publish("ERROR:MESSAGE",e.message),u(!1)}))}))},c.a.createElement("div",{className:"modal-body "+(o?"spinner pl-0":"")},c.a.createElement(i.a,{isLoading:o}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"mb-4"},c.a.createElement("div",{className:"heading-md text-muted"},"Group Details"),c.a.createElement("div",{className:"text-primary text-label"},"Create a group with multiple contacts. ",c.a.createElement("strong",null," Note:"),c.a.createElement("span",{className:"text-danger"}," *")," fields are required fields."))),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-control-label",htmlFor:"group-name"},"Group Name: ",c.a.createElement("span",{className:"text-danger"},"*")),c.a.createElement("input",{type:"text",id:"group-name",name:"name",className:"form-control",placeholder:"What would you call your group?",ref:v({required:"Please enter the group name."})}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{field:"Group Name",error:C.name}))))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"notes",className:"form-control-label"},"Group Notes: ",c.a.createElement("span",{className:"text-danger"},"*")),c.a.createElement("textarea",{id:"notes",name:"notes",rows:"3",className:"form-control",placeholder:"Write that will help you learn about the group ...",ref:v({required:"Please enter the details about the group",minLength:{value:10,message:"Group Notes must contain at least 10 characters."},maxLength:{value:200,message:"Group Notes shouldn't contain more than 200 characters."}})}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{field:"Group Description",error:C.notes})))),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"contacts",className:"form-control-label"},"Select Contacts:"),c.a.createElement(I.a,{id:"contacts",name:"contacts",isMulti:!0,loadOptions:function(e){return e.length?k.a.searchContacts(e).then((function(e){return e.success?e.result.data.map((function(e){return{label:e.firstName+" "+(e.lastName?e.lastName:""),value:e.id,data:e}})):[]})):[]},closeMenuOnSelect:!1,placeholder:"Search Contacts",onChange:function(e){e&&b(e)},value:f}),c.a.createElement("div",{className:"help-block text-primary text-label"},c.a.createElement("strong",null,c.a.createElement("i",{className:"fa fa-info-circle"})," Info:"," "),"Enter at least 3(three) characters to start searching. Selected contacts will automatically be assigned to the group."))),c.a.createElement("div",{className:"col-lg-5"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"custom-switch mt-0 pl-0"},c.a.createElement("input",{name:"isActive",type:"checkbox",value:l,className:"custom-switch-input",defaultChecked:l,ref:v()}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:C.isActive})),c.a.createElement("span",{className:"custom-switch-indicator",onClick:function(){return r(!l)}}),c.a.createElement("span",{className:"custom-switch-description"},"Keep as active group?")))))))),c.a.createElement("div",{className:"modal-footer bg-whitesmoke"},c.a.createElement("div",{className:"text-left"},c.a.createElement("button",{className:"btn btn-lg btn-success mr-2",type:"reset"},"Clear Form"),c.a.createElement("button",{className:"btn btn-lg btn-primary mr-2",disabled:x.isSubmitting,type:"submit"},"Save Messaging Group"),c.a.createElement("button",{className:"btn btn-lg btn-danger mr-2",type:"buton","data-dismiss":"modal",onClick:e.cancel},"Cancel")))))};T.propTypes={cancel:r.a.func};var L=T,M=function(e){var a=Object(n.useState)(!1),t=E()(a,2),l=t[0],r=t[1],m=Object(n.useState)(!1),u=E()(m,2),p=u[0],f=u[1],g=Object(n.useState)(10),v=E()(g,2),h=v[0],y=v[1],C=Object(n.useState)(0),w=E()(C,2),k=w[0],x=w[1],j=Object(n.useState)({count:0,items:[]}),G=E()(j,2),O=G[0],A=G[1];Object(n.useEffect)((function(){return F(),function(){N.a.clearAllSubscriptions()}}),[]);var P,D,F=function(){N.a.subscribe("GROUPS:ADDED",(function(e,a){"GROUPS:ADDED"===e&&T(a)})),I(k)},I=function(e){r(!0),S.a.listUserGroups(e,h).then((function(a){r(!1),a.success&&(x(e),y(h),A(a.result.data))}),(function(e){r(!1),console.log(e.message)}))},T=function(e){A((function(a){return{count:a.count++,items:[].concat(d()(a.items),[e])}}))},M=function(e,a,t,n){e.preventDefault(),S.a.quickUpdateUserGroup(a,t,n).then((function(e){e.success?(A({count:O.count,items:O.items.map((function(t){return t.uuid===a?e.result.data:t}))}),N.a.publish("SUCCESS:MESSAGE",e.message)):N.a.publish("ERROR:MESSAGE",e.message)}))},U=function(){f(!p)};return c.a.createElement(s.a,{in:!0,appear:!0,timeout:1500,classNames:"fade"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h4",null,c.a.createElement("i",{className:"fa fa-list"})," ",e.title,c.a.createElement("span",{type:"button",className:"btn btn-primary btn-md ml-4",onClick:function(){return U()}},c.a.createElement("i",{className:"fa fa-plus"})," "," Create New Group")),c.a.createElement("div",{className:"card-header-action"},c.a.createElement("span",{className:"btn btn-info btn-sm"}," ",c.a.createElement("i",{className:"fa fa-list"})," Total: ",O.count," Groups"))),c.a.createElement("div",{className:"card-body p-0 "+(l?"spinner":"")},c.a.createElement(i.a,{isLoading:l}),c.a.createElement("div",{className:"standard-table table-responsive "},c.a.createElement("table",{className:"table table-stripped"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null),c.a.createElement("th",null,"Group Name"),c.a.createElement("th",{className:"text-center"},"Total Contacts"),c.a.createElement("th",null,"Group Notes"),c.a.createElement("th",{className:"text-center"},"Active?"),c.a.createElement("th",null))),c.a.createElement("tbody",null,O.items.length?O.items.map((function(e){return c.a.createElement("tr",{key:e.uuid},c.a.createElement("td",{className:"text-center"},c.a.createElement("span",{className:e.isFavorite?"text-warning":"",type:"button"},c.a.createElement("i",{className:"fa fa-star",onClick:function(a){return M(a,e.uuid,"favorite",!e.isFavorite)}}))),c.a.createElement("td",null,e.name),c.a.createElement("td",{className:"text-center"},c.a.createElement("span",{className:"badge badge-"+(e.contactsCount>0?"primary":"danger")},e.contactsCount||0," Contacts")),c.a.createElement("td",null,e.notes),c.a.createElement("td",{className:"text-center"},c.a.createElement("div",{className:"badge badge-"+(e.isActive?"success":"danger")},e.isActive?"Yes":"No")),c.a.createElement("td",null,c.a.createElement("div",{className:"text-center dropdown"},c.a.createElement("button",{type:"button",className:"btn btn-outline-primary btn-md","data-toggle":"dropdown"},c.a.createElement("span",{className:"fa fa-ellipsis-v"})," Actions"),c.a.createElement("div",{className:"dropdown-menu"},c.a.createElement("div",{className:"dropdown-title"},"Actions"),c.a.createElement(o.b,{className:"dropdown-item has-icon text-primary",to:"/dashboard/contacts/groups/"+e.uuid+"/view"},c.a.createElement("i",{className:"fas fa-eye"})," View Group Details"),c.a.createElement(o.b,{className:"dropdown-item has-icon text-success",to:"/dashboard/contacts/groups/"+e.uuid+"/edit"},c.a.createElement("i",{className:"far fa-edit"})," Edit Group Details"),c.a.createElement("div",{className:"dropdown-divider"}),c.a.createElement("a",{className:"dropdown-item text-info",href:"#",onClick:function(a){return M(a,e.uuid,"active",!e.isActive)}},c.a.createElement("i",{className:"fa fa-check-circle mr-2"})," ",e.isActive?"Deactivate":"Activate"),c.a.createElement("a",{className:"dropdown-item text-warning",href:"#",onClick:function(a){return M(a,e.uuid,"favorite",!e.isFavorite)}},c.a.createElement("i",{className:"fa fa-star mr-2"})," ",e.isFavorite?"Remove Favorite":"Make Favorite"),c.a.createElement("div",{className:"dropdown-divider"}),c.a.createElement("a",{className:"dropdown-item has-icon text-danger",href:"#",onClick:function(a){return t=a,n=e.uuid,t.preventDefault(),void S.a.deleteGroupById(n).then((function(e){e.success&&(A({count:O.count--,items:O.items.filter((function(e){return e.uuid!==n}))}),N.a.publish("SUCCESS:MESSAGE",e.message))}));var t,n}},c.a.createElement("i",{className:"fas fa-trash-alt"})," Delete Group")))))})):c.a.createElement("tr",{className:"text-warning text-center"},c.a.createElement("td",{colSpan:7},c.a.createElement("strong",null,c.a.createElement("i",{className:"fa fa-info-circle"})," Info:"," "),c.a.createElement("span",{className:"mr-4"},"There are no groups yet!"))))))),c.a.createElement("div",{className:"card-footer"},(P=O.count||0,D=Math.ceil(P/h),c.a.createElement("nav",{"aria-label":"Groups Pagination"},c.a.createElement("ul",{className:"pagination justify-content-center mb-0"},c.a.createElement("li",{className:"page-item "+(k<=0?"disabled":"")},c.a.createElement("button",{type:"button",className:"page-link",tabIndex:"-1",onClick:function(){return I(k-1)}},c.a.createElement("i",{className:"fas fa-angle-left"}),c.a.createElement("span",{className:"sr-only"},"Previous"))),function(){for(var e=[],a=function(a){e.push(c.a.createElement("li",{className:"page-item"+(a===k?" active":""),key:a,onClick:function(){return I(a)}},c.a.createElement("button",{type:"button",className:"page-link"},a+1)))},t=0;t<D;t++)a(t);return c.a.createElement(n.Fragment,null,e)}(),c.a.createElement("li",{className:"page-item "+(D===k+1?"disabled":"")},c.a.createElement("button",{type:"button",className:"page-link",onClick:function(){return I(k+1)}},c.a.createElement("i",{className:"fas fa-angle-right"}),c.a.createElement("span",{className:"sr-only"},"Next"))))))),c.a.createElement(b.a,{isOpen:p,header:c.a.createElement((function(){return c.a.createElement("div",{className:"row align-items-center"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("h3",{className:"mb-0"},"Create Messaging Group "),c.a.createElement("span",{className:"text-success text-label"},c.a.createElement("strong",null,c.a.createElement("i",{className:"fa fa-info-circle"})," Info:"," "),"Your contact group information will be saved using ",c.a.createElement("strong",null,"bank level security"),".")))}),null),content:c.a.createElement(L,{cancel:U}),closeModal:U})))};M.propTypes={title:r.a.string};var U=c.a.memo(M),V=function(e){var a=Object(n.useState)(!1),t=E()(a,2),l=t[0],r=t[1],s=Object(n.useState)(!1),m=E()(s,2),u=m[0],d=m[1],p=Object(n.useState)([]),f=E()(p,2),b=f[0],g=f[1],v=Object(h.a)(),y=v.register,C=v.handleSubmit,x=v.errors,j=v.formState,G=Object(n.useState)({uuid:"",name:"",notes:"",contacts:[],isActive:!0}),O=E()(G,2),A=O[0],P=O[1];Object(n.useEffect)((function(){return D()}),[]);var D=function(){r(!0),S.a.getGroup(e.match.params.groupId).then((function(e){e.success&&(P(e.result.data),d(e.result.data.isActive),g(e.result.data.contacts.map((function(e){return{label:e.firstName+" "+(e.lastName?e.lastName:""),value:e.uuid,data:e}})))),r(!1)}))};return c.a.createElement("div",{className:"card "+(l?"spinner":"")},c.a.createElement(i.a,{isLoading:l}),c.a.createElement("form",{onSubmit:C((function(a,t){t.preventDefault(),r(!0),a.userContacts=b.map((function(e){return e.data})),S.a.updateGroup(a,e.match.params.groupId).then((function(e){e.success&&(N.a.publish("SUCCESS:MESSAGE",e.message),r(!1))}))}))},c.a.createElement("div",{className:"modal-header"},c.a.createElement("div",{className:"row align-items-center"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("h3",{className:"mb-0"},"Update Messaging Group "),c.a.createElement("span",{className:"text-success"},c.a.createElement("strong",null,c.a.createElement("i",{className:"fa fa-info-circle"})," Info:"," "),"Your contact group information will be saved using ",c.a.createElement("strong",null,"bank level security"),".")))),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"mb-4"},c.a.createElement("div",{className:"heading-md text-muted"},"Group Details"),c.a.createElement("span",{className:"text-primary"},"Combine multiple contacts in a group."))),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-control-label",htmlFor:"group-name"},"Group Name:"),c.a.createElement("input",{type:"text",id:"group-name",name:"name",defaultValue:A.name,className:"form-control",placeholder:"Enter your messaging group name",ref:y({required:"Please enter the proper group name."})}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{field:"Group Name",error:x.name}))))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"contents",className:"form-control-label"},"Group Notes:"),c.a.createElement("textarea",{name:"notes",rows:"5",defaultValue:A.notes,className:"form-control",placeholder:"Write that will help you learn about the group ...",ref:y({required:"Please enter the details about the group",minLength:{value:10,message:"Group Notes must contain at least 10 characters."},maxLength:{value:200,message:"Group Notes shouldn't contain more than 200 characters."}})}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{field:"Group Description",error:x.description})))),c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"contacts",className:"form-control-label"},"Select Contacts:"),c.a.createElement(I.a,{id:"contacts",name:"contacts",isMulti:!0,loadOptions:function(e){return e.length?k.a.searchContacts(e).then((function(e){return e.success?e.result.data.map((function(e){return{label:e.firstName+" "+(e.lastName?e.lastName:""),value:e.id,data:e}})):[]})):[]}||[],closeMenuOnSelect:!1,placeholder:"Select Contacts to attach to this Group",onChange:function(e){g(e)},value:b}),c.a.createElement("div",{className:"help-block text-primary text-small"},c.a.createElement("strong",null,c.a.createElement("i",{className:"fa fa-info-circle"})," Info:"," "),"Selected contacts will automatically be assigned to the group."))),c.a.createElement("div",{className:"col-lg-5"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"custom-switch mt-0 pl-0"},c.a.createElement("input",{name:"isActive",type:"checkbox",value:u,className:"custom-switch-input",checked:u,ref:y(),onChange:function(e){return e}}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:x.isActive})),c.a.createElement("span",{className:"custom-switch-indicator",onClick:function(){return d(!u)}}),c.a.createElement("span",{className:"custom-switch-description"},"Keep as active group?")))))))),c.a.createElement("div",{className:"card-footer bg-whitesmoke"},c.a.createElement("div",{className:"text-left"},c.a.createElement("button",{className:"btn btn-lg btn-primary mr-2",disabled:j.isSubmitting,type:"submit"},"Update Messaging Group"),c.a.createElement(o.b,{className:"btn btn-lg btn-danger mr-2",to:"/dashboard/contacts/groups"},"Cancel")))))};V.propTypes={history:r.a.any,match:r.a.object};var q=Object(m.g)(c.a.memo(V)),R=function(e){var a=Object(n.useState)({}),t=E()(a,2),l=t[0],r=t[1],s=Object(n.useState)(!1),m=E()(s,2),u=m[0],d=m[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){d(!0),S.a.getGroup(e.match.params.groupId).then((function(e){r(e.result.data),d(!1)}))};return c.a.createElement("div",{className:u?"spinner":""},c.a.createElement(i.a,{isLoading:u}),c.a.createElement("div",{className:"card card-info"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h4",null,c.a.createElement("i",{className:"fa fa-address-card"})," Group Details")),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"mt-2 mb-1 section-title"},"Group Name:"),c.a.createElement("div",{className:"card card-body bg-light mb-1"},c.a.createElement("span",{className:"font-weight-bold"},l.name))),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"mt-2 mb-1 section-title"},"Group Notes:"),c.a.createElement("div",{className:"card card-body bg-light mb-1"},c.a.createElement("span",{className:"font-weight-bold"},l.notes))),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"mt-2 mb-1 section-title"},"Is Active:"),c.a.createElement("div",{className:"card card-body bg-light mb-1"},c.a.createElement("span",{className:"font-weight-bold"},l.isActive?"Active":"Disabled"))))),c.a.createElement("div",{className:"card-footer"},c.a.createElement(o.b,{className:"btn btn-lg btn-danger mr-2",to:"/dashboard/contacts/groups"},"Cancel"))))};R.propTypes={title:r.a.string,match:r.a.any};var B=Object(m.g)(R),z=function(e){var a=Object(n.useState)(!1),t=E()(a,2),l=t[0],r=t[1],s=Object(n.useState)(!0),m=E()(s,2),u=m[0],d=m[1],p=Object(n.useState)([]),f=E()(p,2),N=f[0],b=f[1],g=Object(n.useState)([]),v=E()(g,2),G=v[0],O=v[1],A=Object(n.useState)([]),P=E()(A,2),D=P[0],F=P[1],I=Object(n.useState)(null),T=E()(I,2),L=T[0],M=T[1],U=Object(h.a)(),V=U.register,q=U.handleSubmit,R=U.errors,B=U.formState,z=Object(n.useState)({uuid:"",name:"",notes:"",groups:[],isActive:!0,country:{id:""}}),Y=E()(z,2),W=Y[0],K=Y[1],Z=N.map((function(e){return{label:e.name+" ("+e.contactsCount+")",value:e.id,data:e}})),$=G.map((function(e){return{label:e.name+" ("+e.dialCode+")",value:e.id,data:e}}));Object(n.useEffect)((function(){J()}),[]);var J=function(){r(!0),x.a.getCountries().then((function(e){O(e.result.data)})),S.a.loadAllGroups().then((function(e){b(e.result.data)})),k.a.loadContactByUuid(e.match.params.contactId).then((function(e){e.success&&(r(!1),K(e.result.data),d(e.result.data.isActive),M(void 0!==e.result.data.country?{label:e.result.data.country.name+" ("+e.result.data.country.dialCode+")",value:e.result.data.country.id,data:e.result.data.country}:null),F(void 0!==e.result.data.groups?e.result.data.groups.map((function(e){return{label:e.name,value:e.uuid,data:e}})):[]))}))};return c.a.createElement("div",{className:"card"},c.a.createElement("form",{onSubmit:q((function(a,t){return t.preventDefault(),r(!0),a.country=L.data,a.groups=D.map((function(e){return e.data})),k.a.updateContact(e.match.params.contactId,a).then((function(e){e.success&&y.a.success(e.message,{position:"top-right"}),r(!1)}),(function(e){y.a.error(e.message,{position:"top-right"}),r(!1)}))}))},c.a.createElement("div",{className:"modal-header"},c.a.createElement("div",{className:"row align-items-center"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("h5",{className:"mb-0"},"Update Contact's Details"),c.a.createElement("div",{className:"text-info text-md"},c.a.createElement("strong",null,c.a.createElement("i",{className:"fa fa-info-circle"})," Info:"," "),"We'll never share your information to anyone and your contact information will be saved using"," ",c.a.createElement("strong",null,"bank level security"),".")))),c.a.createElement("div",{className:"card-body "+(l?"spinner":"")},c.a.createElement(i.a,{isLoading:l}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-10"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"groups",className:"form-control-label"},"Select Contact Groups:"),c.a.createElement(C.a,{id:"groups",name:"groups",isMulti:!0,options:Z||[],value:D,closeMenuOnSelect:!1,placeholder:"Search Contact Groups",onChange:function(e){F(e)}}),c.a.createElement("div",{className:"help-block text-primary text-md"},c.a.createElement("strong",null,c.a.createElement("i",{className:"fa fa-info-circle"})," Info:"," "),"If you select any groups, the created contact will automatically be linked to the selected group. If not, you can always add later.")))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-10"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-control-label",htmlFor:"input-first-name"},"First Name: ",c.a.createElement("span",{className:"text-danger"},"*")),c.a.createElement("input",{id:"input-first-name",name:"firstName",defaultValue:W.firstName,className:"form-control"+j.a.checkValadity("firstName",R,B),placeholder:"Enter First Name",ref:V({required:"Please enter first name."})}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:R.firstName})))),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-control-label",htmlFor:"input-last-name"},"Last Name: ",c.a.createElement("span",{className:"text-danger"},"*")),c.a.createElement("input",{id:"input-last-name",name:"lastName",defaultValue:W.lastName,className:"form-control"+j.a.checkValadity("lastName",R,B),placeholder:"Enter Last Name",ref:V({required:"Please enter last name."})}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:R.lastName}))))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"country",className:"form-control-label"},"Choose Country:"),c.a.createElement(C.a,{id:"country",name:"country",options:$||[],value:L,placeholder:"Search Country",onChange:function(e){M(e)},ref:V({name:"country"},{validate:function(){return!!L||"Please select a country"}})}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:R.country})))),c.a.createElement("div",{className:"col-lg-5"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-control-label",htmlFor:"input-phone-number"},"Phone Number: ",c.a.createElement("span",{className:"text-danger"},"*")),c.a.createElement("input",{id:"input-phone-number",name:"phoneNumber",defaultValue:W.phoneNumber,className:"form-control"+j.a.checkValadity("phoneNumber",R,B),placeholder:"Enter Phone Number",ref:V({required:"Enter contact phone number.",minLength:{value:9,message:"Phone Number should be of 9 digits."},maxLength:{value:13,message:"Phone Number should be of 13 digits."},pattern:{value:/^[0-9]{9,13}$/i,message:"Entered phone number is not a valid number."}})}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:R.phoneNumber}))))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{className:"form-control-label",htmlFor:"input-email"},"Email Address:"),c.a.createElement("input",{id:"input-email",name:"email",defaultValue:W.email,className:"form-control"+j.a.checkValadity("email",R,B),placeholder:"john@example.com",ref:V({pattern:{value:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i,message:"Invalid Email address provided."}})}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:R.email})))),c.a.createElement("div",{className:"col-lg-6"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"tags",className:"form-control-label"},"Add Tags:"),c.a.createElement("input",{type:"text",id:"tags",name:"tags",className:"form-control",placeholder:"#artist, #designer, #cyclist, #teacher, ...",defaultValue:W.tags,ref:V}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{field:"Tags",error:R.tags}))))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-12"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"notes",className:"form-control-label"},"Notes for the contact:"),c.a.createElement("textarea",{name:"notes",rows:"3",className:"form-control",placeholder:"A few words about your contact ...",defaultValue:W.notes,ref:V}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{field:"Contact Notes",error:R.description})))),c.a.createElement("div",{className:"col-lg-10"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"isActive",className:"custom-switch mt-0 pl-0"},c.a.createElement("input",{id:"isActive",name:"isActive",type:"checkbox",value:u,className:"custom-switch-input",checked:u,ref:V(),onChange:function(e){return e}}),c.a.createElement("div",{className:"help-block"},c.a.createElement(w.a,{error:R.isActive})),c.a.createElement("span",{className:"custom-switch-indicator",onClick:function(){return d(!u)}}),c.a.createElement("span",{className:"custom-switch-description"},"Keep as an active contact?")))))))),c.a.createElement("div",{className:"card-footer bg-whitesmoke"},c.a.createElement("div",{className:"text-left"},c.a.createElement("button",{className:"btn btn-lg btn-primary mr-2",disabled:B.isSubmitting,type:"submit"},"Update Contact Details"),c.a.createElement(o.b,{className:"btn btn-lg btn-danger mr-2",to:"/dashboard/contacts"},"Cancel")))))};z.propTypes={history:r.a.any,match:r.a.object};var Y=Object(m.g)(c.a.memo(z)),W=[{path:"/dashboard/contacts",exact:!0,sidebar:function(){return c.a.createElement("div",null,"User's Contacts")},main:function(){return c.a.createElement(c.a.Suspense,{fallback:c.a.createElement(i.a,{isLoading:!0})},c.a.createElement(P,{title:"User Contacts"}))}},{path:"/dashboard/contacts/groups",exact:!0,sidebar:function(){return c.a.createElement("div",null,"Contact's Groups")},main:function(){return c.a.createElement(c.a.Suspense,{fallback:c.a.createElement(i.a,{isLoading:!0})},c.a.createElement(U,{title:"Contact Groups"}))}},{path:"/dashboard/contacts/:contactId/view",exact:!0,sidebar:function(){return c.a.createElement("div",null,"Contact Details")},main:function(){return c.a.createElement(c.a.Suspense,{fallback:c.a.createElement(i.a,{isLoading:!0})},c.a.createElement(F,{title:"Contact Detail Page"}))}},{path:"/dashboard/contacts/:contactId/edit",exact:!0,sidebar:function(){return c.a.createElement("div",null,"Contact Edit View")},main:function(){return c.a.createElement(c.a.Suspense,{fallback:c.a.createElement(i.a,{isLoading:!0})},c.a.createElement(Y,{title:"Contact Edit Page"}))}},{path:"/dashboard/contacts/groups/:groupId/view",exact:!0,sidebar:function(){return c.a.createElement("div",null,"Contact Group Detail")},main:function(){return c.a.createElement(c.a.Suspense,{fallback:c.a.createElement(i.a,{isLoading:!0})},c.a.createElement(B,{title:"Group Detail Page"}))}},{path:"/dashboard/contacts/groups/:groupId/edit",exact:!0,sidebar:function(){return c.a.createElement("div",null,"Edit Group Detail")},main:function(){return c.a.createElement(c.a.Suspense,{fallback:c.a.createElement(i.a,{isLoading:!0})},c.a.createElement(q,{title:"Group Edit Page"}))}}],K=function(e){Object(n.useEffect)((function(){a()}),[]);var a=function(){var e=document.createElement("script");e.src="/assets/modules/prism/prism.js",e.async=!0,document.body.appendChild(e)},t=function(a){return e.location.pathname===a};return c.a.createElement("div",null,c.a.createElement(m.d,null,W.map((function(e,a){return c.a.createElement(m.b,{key:a,path:e.path,exact:e.exact})}))),c.a.createElement("section",{className:"section"},c.a.createElement(s.a,{in:!0,appear:!0,timeout:500,classNames:"hero"},c.a.createElement("div",{className:"section-header"},c.a.createElement("h5",{className:"mb-0 mr-5"},c.a.createElement("i",{className:"fa fa-users"})," Users Contacts"),c.a.createElement("div",{className:"buttons"},c.a.createElement(o.b,{to:"/dashboard/contacts"},c.a.createElement("span",{type:"button",className:"btn mb-0 btn-success btn-md text-small mr-3"+(t("/dashboard/contacts")?" active":"")},c.a.createElement("i",{className:"fa fa-list"})," "," List Contacts")),c.a.createElement(o.b,{to:"/dashboard/contacts/groups"},c.a.createElement("span",{type:"button",className:"btn mb-0 btn-dark btn-md text-small mr-3"+(t("/dashboard/contacts/groups")?" active":"")},c.a.createElement("i",{className:"fa fa-users"})," "," List Contact Groups"))),c.a.createElement("div",{className:"section-header-breadcrumb"},c.a.createElement("div",{className:"breadcrumb-item active"},c.a.createElement("a",{href:"#"},"Dashboard")),c.a.createElement("div",{className:"breadcrumb-item"},"Contacts or Groups")))),c.a.createElement(s.a,{in:!0,appear:!0,timeout:500,classNames:"fade"},c.a.createElement("div",{className:"section-body"},c.a.createElement(m.d,null,W.map((function(e,a){return c.a.createElement(m.b,{key:a,path:e.path,exact:e.exact,children:c.a.createElement(e.main,null)})})))))))};K.propTypes={history:r.a.any,location:r.a.any};a.default=Object(m.g)(K)},51:function(e,a,t){"use strict";var n=t(28),c={createContact:function(e){return n.a.post("/contacts/create",e,!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},updateContact:function(e,a){return n.a.update("/user/contacts/"+e,a,!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},quickUpdateUserContact:function(e,a,t){return n.a.get("/user/contacts/"+e+"/quick-update/"+a+"/"+t,!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},uploadContacts:function(e){var a=new FormData;return a.append("action","import-contacts"),e.files.forEach((function(e){return a.append("files",e)})),n.a.post("/import/contacts",a,!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},uploadGroupContacts:function(e){var a=new FormData;return a.append("groups",e.groups),e.files.forEach((function(e){return a.append("files",e)})),n.a.post("/import/group/contacts",a,!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},searchContacts:function(e){return n.a.get("/user/contacts/search?query="+e,!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},loadContactByUuid:function(e){return n.a.get("/user/contacts/"+e,!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},loadPaginatedContacts:function(e,a){return n.a.get("/user/contacts/"+e+"/"+a,!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},deleteContactById:function(e){return n.a.delete("/user/contacts/".concat(e),!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))}};a.a=c},52:function(e,a,t){"use strict";var n=t(28),c={createGroup:function(e){return n.a.post("/groups/create",e,!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},updateGroup:function(e,a){return n.a.update("/groups/"+a,e,!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},quickUpdateUserGroup:function(e,a,t){return n.a.get("/user/groups/"+e+"/quick-update/"+a+"/"+t,!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},getGroup:function(e){return n.a.get("/groups/"+e,!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},listUserGroups:function(e,a){return n.a.get("/user/groups/"+e+"/"+a,!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},loadAllGroups:function(){return n.a.get("/user/groups",!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},deleteGroupById:function(e){return n.a.delete("/groups/".concat(e),!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))}};a.a=c}}]);