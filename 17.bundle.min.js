(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{21:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(55),a=n.n(r),o=n(41),i=n.n(o),s=n(42),u=n.n(s),c=function(){function e(){i()(this,e)}return u()(e,null,[{key:"checkValadity",value:function(e,t,n){var r=n.touched,a=n.dirty,o=n.isSubmitted,i="";return r[e]&&a&&o&&(i=" is-valid"),t[e]&&(i=" is-invalid"),i}},{key:"closeModal",value:function(e){window.$(e).modal("hide")}},{key:"openModal",value:function(e){window.$(e).modal("show")}},{key:"loadAssets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cssLinks:[],jsLinks:[]};e.cssLinks=e.cssLinks.map((function(e){var t=document.createElement("link");t.href=e,t.type="text/css",t.async=!0,document.head.appendChild(t)})),e.jsLinks=e.jsLinks.map((function(e){var t=document.createElement("script");t.src=e,t.async=!0,document.body.appendChild(t)}))}},{key:"generateRandomHash",value:function(e){var t=Math.ceil(e/13);return new Array(t).fill((function(){return Math.random().toString(16).substring(2,15)})).reduce((function(e,t){return e+t()}),"").substring(0,e)}},{key:"capatalize",value:function(e){if(!e.trim())return"";var t=e.split("_");if(t.length)for(var n=0,r=t.length;n<r;n++)t[n]=t[n][0].toUpperCase()+t[n].toLowerCase().substr(1);return t.join(" ")}},{key:"isEmpty",value:function(e){var t=Object.prototype.hasOwnProperty;if(null===e)return!0;if(void 0===e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!==a()(e))return!0;for(var n in e)if(t.call(e,n))return!1;return!0}},{key:"getDays",value:function(e,t){var n=moment(e||new Date);return moment(t||new Date).diff(n,"days")}},{key:"formatdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMM-DD-YYYY";return void 0!==e&&moment(e).format(t)}},{key:"updateObject",value:function(e,t,n){for(var r=e,a=t.split(".")||[],o=0;o<a.length;o++)r&&r.hasOwnProperty(a[o])&&(o!==a.length-1?r=r[a[o]]:r[a[o]]=n);return r}},{key:"truncateString",value:function(e,t){return e.length<=t?e:e.slice(0,t)+"..."}},{key:"timeAgo",value:function(e){var t=(new Date-new Date(e))/1e3;if(t<60){var n=Math.round(t);return n+" second"+(1===n?"":"s")+" ago"}if(t<3600){var r=Math.round(t/60);return r+" minute"+(1===r?"":"s")+" ago"}if(t<86400){var a=Math.round(t/3600);return a+" hour"+(1===a?"":"s")+" ago"}if(t<2629746){var o=Math.round(t/86400);return o+" day"+(1===o?"":"s")+" ago"}if(t<31556952){var i=Math.round(t/2629746);return i+" month"+(1===i?"":"s")+" ago"}var s=Math.round(t/31556952);return s+" year"+(1===s?"":"s")+" ago"}},{key:"formatBytes",value:function(e){var t=Math.floor(Math.log(e)/Math.log(1024));return(e/1024/1024).toFixed(2)+" "+["bytes","kb","mb","gb","tb","pb","eb","zb","yb"][t]}}]),e}()},349:function(e,t,n){"use strict";n.r(t);var r=n(17),a=n.n(r),o=n(0),i=n.n(o),s=n(122),u=n(1),c=n.n(u),l=n(16),m=n(2),f=n(40),d=function(e){var t=Object(o.useState)(!1),n=a()(t,2),r=n[0],s=n[1],u=Object(o.useState)(!1),c=a()(u,2),d=c[0],v=c[1],h=Object(o.useState)(!1),g=a()(h,2),p=g[0],b=g[1];Object(o.useEffect)((function(){E(e.match.params.registrationToken)}),[]);var E=function(e){return e?(s(!0),f.a.verifyUserRegistration(e).then((function(e){s(!1),PubSub.publish("SUCCESS:MESSAGE",e.message),e.success?v(!0):b(!0)}),(function(e){s(!1),b(!0),PubSub.publish("ERROR:MESSAGE",e.message)}))):PubSub.publish("ERROR:MESSAGE","Error: No Registration Token Found.")};return i.a.createElement("div",{className:"mt-5 pt-5"},i.a.createElement("div",{className:"col-12 col-sm-8 offset-sm-2 col-md-8 offset-md-2 col-lg-6 offset-lg-3"},i.a.createElement("div",{className:"container"},i.a.createElement("section",{className:"text-center "+(r?"spinner":"")},i.a.createElement(m.a,{isLoading:r}),i.a.createElement("div",{className:"col-12 mb-4"},i.a.createElement("div",{className:"hero "+(p?"bg-warning":"bg-success")+" text-white text-center"},p&&i.a.createElement("div",{className:"hero-inner"},i.a.createElement("h2",null,"Welcome to Android Bulk SMS App!"),i.a.createElement("p",{className:"lead"},"Invalid or Expired Token provided. Please request a new Token."),i.a.createElement("div",{className:"mt-4"},i.a.createElement("button",{type:"button",onClick:function(){return(t=e.match.params.registrationToken)?(s(!0),f.a.resendVerificationEmail(t).then((function(e){s(!1),e.success&&PubSub.publish("SUCCESS:MESSAGE",e.message)}),(function(e){s(!1),PubSub.publish("ERROR:MESSAGE",e.message)}))):PubSub.publish("ERROR:MESSAGE","Error: No Verification Token Found.");var t},className:"btn btn-outline-white btn-lg btn-icon icon-left"},i.a.createElement("i",{className:"far fa-envelope-open"})," Resend Verification Email"))),d&&i.a.createElement("div",{className:"hero-inner"},i.a.createElement("h2",null,"Welcome to Bulk SMS App!"),i.a.createElement("p",{className:"lead"},"Thank you for verifying your account. Now, please enjoy the App."),i.a.createElement("div",{className:"mt-4"},i.a.createElement(l.b,{to:"/login",className:"btn btn-outline-white btn-lg btn-icon icon-left"},i.a.createElement("i",{className:"far fa-user"})," Login Now!")))))))))};d.propTypes={title:c.a.string,match:c.a.any},t.default=Object(s.g)(d)},40:function(e,t,n){"use strict";var r=n(25),a=n(30),o=n(21),i={signUserIn:function(e){var t=o.a.generateRandomHash(32),n=o.a.generateRandomHash(36);a.a.setItem("deviceId",t),a.a.setItem("deviceType","DEVICE_TYPE_WEB"),a.a.setItem("notificationToken",n);var i={deviceInfo:{deviceId:t,deviceType:"DEVICE_TYPE_WEB",notificationToken:n},username:e.username.trim(),password:e.password.trim()};return r.a.post("/auth/login",i).then((function(e){return e&&(a.a.setItem("isLoggedIn",!0),a.a.setItem("loggedInDateTime",new Date),a.a.setItem("accessToken",e.accessToken),a.a.setItem("refreshToken",e.refreshToken),a.a.setItem("expiryTime",e.expiryDuration),a.a.setItem("tokenType",e.tokenType),a.a.setItem("roles",e.roles)),Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},registerUser:function(e){return r.a.post("/auth/register",e).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},myProfile:function(){return r.a.get("/user/me",!0).then((function(e){return a.a.setItem("isLocalCustomer",e.result.data.isLocalCustomer),Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},checkUsername:function(e){return r.a.get("/auth/checkUsernameInUse?username="+e.trim()).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},forgotPassword:function(e){return r.a.post("/auth/password/resetlink",e).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},verifyUserRegistration:function(e){return r.a.get("/auth/registration-confirmation?token="+e).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},resendVerificationEmail:function(e){return r.a.get("/auth/resend-registration-token?token="+e).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},logout:function(){return r.a.post("/user/logout",{deviceInfo:{deviceId:a.a.getItem("deviceId"),deviceType:a.a.getItem("deviceType"),notificationToken:a.a.getItem("notificationToken")}},!0).then((function(e){return a.a.setItem("isLoggedIn",!1),a.a.removeItem("loggedInDateTime"),a.a.removeItem("accessToken"),a.a.removeItem("refreshToken"),a.a.removeItem("expiryTime"),a.a.removeItem("tokenType"),a.a.removeItem("roles"),Promise.resolve(e)}),(function(e){return Promise.reject(e)}))}};t.a=i}}]);