(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{21:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var r=a(55),n=a.n(r),s=a(41),o=a.n(s),i=a(42),c=a.n(i),m=function(){function e(){o()(this,e)}return c()(e,null,[{key:"checkValadity",value:function(e,t,a){var r=a.touched,n=a.dirty,s=a.isSubmitted,o="";return r[e]&&n&&s&&(o=" is-valid"),t[e]&&(o=" is-invalid"),o}},{key:"closeModal",value:function(e){window.$(e).modal("hide")}},{key:"openModal",value:function(e){window.$(e).modal("show")}},{key:"loadAssets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cssLinks:[],jsLinks:[]};e.cssLinks=e.cssLinks.map((function(e){var t=document.createElement("link");t.href=e,t.type="text/css",t.async=!0,document.head.appendChild(t)})),e.jsLinks=e.jsLinks.map((function(e){var t=document.createElement("script");t.src=e,t.async=!0,document.body.appendChild(t)}))}},{key:"generateRandomHash",value:function(e){var t=Math.ceil(e/13);return new Array(t).fill((function(){return Math.random().toString(16).substring(2,15)})).reduce((function(e,t){return e+t()}),"").substring(0,e)}},{key:"capatalize",value:function(e){if(!e.trim())return"";var t=e.split("_");if(t.length)for(var a=0,r=t.length;a<r;a++)t[a]=t[a][0].toUpperCase()+t[a].toLowerCase().substr(1);return t.join(" ")}},{key:"isEmpty",value:function(e){var t=Object.prototype.hasOwnProperty;if(null===e)return!0;if(void 0===e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!==n()(e))return!0;for(var a in e)if(t.call(e,a))return!1;return!0}},{key:"getDays",value:function(e,t){var a=moment(e||new Date);return moment(t||new Date).diff(a,"days")}},{key:"formatdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMM-DD-YYYY";return void 0!==e&&moment(e).format(t)}},{key:"updateObject",value:function(e,t,a){for(var r=e,n=t.split(".")||[],s=0;s<n.length;s++)r&&r.hasOwnProperty(n[s])&&(s!==n.length-1?r=r[n[s]]:r[n[s]]=a);return r}},{key:"truncateString",value:function(e,t){return e.length<=t?e:e.slice(0,t)+"..."}},{key:"timeAgo",value:function(e){var t=(new Date-new Date(e))/1e3;if(t<60){var a=Math.round(t);return a+" second"+(1===a?"":"s")+" ago"}if(t<3600){var r=Math.round(t/60);return r+" minute"+(1===r?"":"s")+" ago"}if(t<86400){var n=Math.round(t/3600);return n+" hour"+(1===n?"":"s")+" ago"}if(t<2629746){var s=Math.round(t/86400);return s+" day"+(1===s?"":"s")+" ago"}if(t<31556952){var o=Math.round(t/2629746);return o+" month"+(1===o?"":"s")+" ago"}var i=Math.round(t/31556952);return i+" year"+(1===i?"":"s")+" ago"}},{key:"formatBytes",value:function(e){var t=Math.floor(Math.log(e)/Math.log(1024));return(e/1024/1024).toFixed(2)+" "+["bytes","kb","mb","gb","tb","pb","eb","zb","yb"][t]}}]),e}()},26:function(e,t,a){"use strict";var r=a(0),n=a.n(r),s=a(1),o=a.n(s),i=function(e){var t=e.error;return t?n.a.createElement("span",{className:"text-danger"},n.a.createElement("strong",null,n.a.createElement("i",{className:"fa fa-exclamation-circle"})," "),t.message):null};i.propTypes={field:o.a.string,error:o.a.shape({type:o.a.string,message:o.a.string})},t.a=i},357:function(e,t,a){"use strict";a.r(t);var r=a(17),n=a.n(r),s=a(0),o=a.n(s),i=a(1),c=a.n(i),m=a(122),l=a(16),u=a(33),d=a(22),f=a.n(d),p=a(2),v=a(26),g=a(40),h=a(21),y=function(e){var t=Object(s.useState)(!1),a=n()(t,2),r=a[0],i=a[1],c=Object(u.a)(),m=c.register,d=c.handleSubmit,y=c.getValues,w=c.errors,E=c.formState;return o.a.createElement("div",{className:"container mt-3"},o.a.createElement(l.c,{className:"btn btn-lg",to:"/"},o.a.createElement("span",{className:"text-warning"},o.a.createElement("i",{className:"fas fa-arrow-left mr-2"})),o.a.createElement("strong",{className:"text-primary"},o.a.createElement("i",{className:"fas fa-home"})," Home")),o.a.createElement(p.a,{isLoading:r}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-sm-8 offset-sm-2 col-md-6 offset-md-3 col-lg-6 offset-lg-3 col-xl-4 offset-xl-4"},o.a.createElement("div",{className:"login-brand"},o.a.createElement("img",{src:"/assets/img/stisla-fill.svg",alt:"logo",width:"100",className:"shadow-light rounded-circle"})),o.a.createElement("div",{className:"card card-primary "+(r?"spinner":"")},o.a.createElement(p.a,{isLoading:r}),o.a.createElement("div",{className:"card-header"},o.a.createElement("h4",null,"Reset Your Password")),o.a.createElement("div",{className:"card-body"},o.a.createElement("p",{className:"text-muted"},"We will send a link to reset your password"),o.a.createElement("form",{role:"form",className:"needs-validation "+(r?"spinner":""),onSubmit:d((function(t){i(!0),t.token=e.passwordResetToken,g.a.resetPassword(t).then((function(t){i(!1),f.a.publish("SUCCESS:MESSAGE",t.message),t.success&&e.history.push("/login")}),(function(e){i(!1),f.a.publish("ERROR:MESSAGE",e.message)}))}))},o.a.createElement("div",{className:"form-group col-12"},o.a.createElement("label",{htmlFor:"password"},"Password:"),o.a.createElement("input",{id:"password",name:"password",type:"password",placeholder:"xxxxxxxxxx",className:"form-control"+h.a.checkValadity("password",w,E),ref:m({required:"Please specify your new password.",minLength:{value:6,message:"New Password should be minimum of 6 characters."},maxLength:{value:16,message:"New Password can't contain more than 16 characters."}})}),o.a.createElement(v.a,{error:w.password})),o.a.createElement("div",{className:"form-group col-12"},o.a.createElement("label",{htmlFor:"confirm_password",className:"d-block"},"Password Confirmation:"),o.a.createElement("input",{id:"confirm_password",type:"password",name:"confirmPassword",placeholder:"xxxxxxxxxx",className:"form-control"+h.a.checkValadity("confirmPassword",w,E),ref:m({required:"Please confirm your password.",minLength:{value:8,message:"Password minimum of 8 characters."},maxLength:{value:16,message:"Password cannot contain more than 16 characters."},validate:function(e){return e===y().password||"The passwords do not match."}})}),o.a.createElement(v.a,{error:w.confirmPassword})),o.a.createElement("div",{className:"form-group"},o.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg btn-block",tabIndex:"4"},"Reset Password"))))))),o.a.createElement("footer",{className:"main-footer text-center"},"Copyright © 2020",o.a.createElement("div",{className:"bullet"})," Developed By ",o.a.createElement("a",{href:"#"},"HuluHive Technology Pvt. Ltd.")))};y.propTypes={history:c.a.any,passwordResetToken:c.a.string};var w=Object(m.g)(y),E=function(e){var t=Object(s.useState)(null),a=n()(t,2),r=a[0],i=a[1];Object(s.useEffect)((function(){c()}),[]);var c=function(){e.match.params.passwordResetToken&&i(e.match.params.passwordResetToken)};return o.a.createElement("section",{className:"section"},r?o.a.createElement(w,{passwordResetToken:r}):o.a.createElement("div",{className:"alert alert-warning"},"No Reset Token found!"))};E.propTypes={title:c.a.string,match:c.a.any};t.default=Object(m.g)(E)},40:function(e,t,a){"use strict";var r=a(25),n=a(30),s=a(21),o={signUserIn:function(e){var t=s.a.generateRandomHash(32),a=s.a.generateRandomHash(36);n.a.setItem("deviceId",t),n.a.setItem("deviceType","DEVICE_TYPE_WEB"),n.a.setItem("notificationToken",a);var o={deviceInfo:{deviceId:t,deviceType:"DEVICE_TYPE_WEB",notificationToken:a},username:e.username.trim(),password:e.password.trim()};return r.a.post("/auth/login",o).then((function(e){return e&&(n.a.setItem("isLoggedIn",!0),n.a.setItem("loggedInDateTime",new Date),n.a.setItem("accessToken",e.accessToken),n.a.setItem("refreshToken",e.refreshToken),n.a.setItem("expiryTime",e.expiryDuration),n.a.setItem("tokenType",e.tokenType),n.a.setItem("roles",e.roles)),Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},registerUser:function(e){return r.a.post("/auth/register",e).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},myProfile:function(){return r.a.get("/user/me",!0).then((function(e){return n.a.setItem("isLocalCustomer",e.result.data.isLocalCustomer),Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},checkUsername:function(e){return r.a.get("/auth/checkUsernameInUse?username="+e.trim()).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},forgotPassword:function(e){return r.a.post("/auth/password/resetlink",e).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},verifyUserRegistration:function(e){return r.a.get("/auth/registration-confirmation?token="+e).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},resendVerificationEmail:function(e){return r.a.get("/auth/resend-registration-token?token="+e).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},logout:function(){return r.a.post("/user/logout",{deviceInfo:{deviceId:n.a.getItem("deviceId"),deviceType:n.a.getItem("deviceType"),notificationToken:n.a.getItem("notificationToken")}},!0).then((function(e){return n.a.setItem("isLoggedIn",!1),n.a.removeItem("loggedInDateTime"),n.a.removeItem("accessToken"),n.a.removeItem("refreshToken"),n.a.removeItem("expiryTime"),n.a.removeItem("tokenType"),n.a.removeItem("roles"),Promise.resolve(e)}),(function(e){return Promise.reject(e)}))}};t.a=o}}]);