(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{20:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var r=a(49),n=a.n(r),o=a(41),s=a.n(o),i=a(42),c=a.n(i),l=function(){function e(){s()(this,e)}return c()(e,null,[{key:"checkValadity",value:function(e,t,a){var r=a.touched,n=a.dirty,o=a.isSubmitted,s="";return r[e]&&n&&o&&(s=" is-valid"),t[e]&&(s=" is-invalid"),s}},{key:"closeModal",value:function(e){window.$(e).modal("hide")}},{key:"openModal",value:function(e){window.$(e).modal("show")}},{key:"loadAssets",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cssLinks:[],jsLinks:[]};e.cssLinks=e.cssLinks.map((function(e){var t=document.createElement("link");t.href=e,t.type="text/css",t.async=!0,document.head.appendChild(t)})),e.jsLinks=e.jsLinks.map((function(e){var t=document.createElement("script");t.src=e,t.async=!0,document.body.appendChild(t)}))}},{key:"generateRandomHash",value:function(e){var t=Math.ceil(e/13);return new Array(t).fill((function(){return Math.random().toString(16).substring(2,15)})).reduce((function(e,t){return e+t()}),"").substring(0,e)}},{key:"capatalize",value:function(e){if(!e||!e.trim())return"";var t=e.split("_");if(t.length)for(var a=0,r=t.length;a<r;a++)t[a]=t[a][0].toUpperCase()+t[a].toLowerCase().substr(1);return t.join(" ")}},{key:"isEmpty",value:function(e){var t=Object.prototype.hasOwnProperty;if(null===e)return!0;if(void 0===e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!==n()(e))return!0;for(var a in e)if(t.call(e,a))return!1;return!0}},{key:"getDays",value:function(e,t){var a=moment(e||new Date);return moment(t||new Date).diff(a,"days")}},{key:"formatdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMM-DD-YYYY";return void 0!==e&&moment(e).format(t)}},{key:"updateObject",value:function(e,t,a){for(var r=e,n=t.split(".")||[],o=0;o<n.length;o++)r&&r.hasOwnProperty(n[o])&&(o!==n.length-1?r=r[n[o]]:r[n[o]]=a);return r}},{key:"truncateString",value:function(e,t){return e.length<=t?e:e.slice(0,t)+"..."}},{key:"timeAgo",value:function(e){var t=(new Date-new Date(e))/1e3;if(t<60){var a=Math.round(t);return a+" second"+(1===a?"":"s")+" ago"}if(t<3600){var r=Math.round(t/60);return r+" minute"+(1===r?"":"s")+" ago"}if(t<86400){var n=Math.round(t/3600);return n+" hour"+(1===n?"":"s")+" ago"}if(t<2629746){var o=Math.round(t/86400);return o+" day"+(1===o?"":"s")+" ago"}if(t<31556952){var s=Math.round(t/2629746);return s+" month"+(1===s?"":"s")+" ago"}var i=Math.round(t/31556952);return i+" year"+(1===i?"":"s")+" ago"}},{key:"formatBytes",value:function(e){var t=Math.floor(Math.log(e)/Math.log(1024));return(e/1024/1024).toFixed(2)+" "+["bytes","kb","mb","gb","tb","pb","eb","zb","yb"][t]}}]),e}()},24:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(1),s=a.n(o),i=function(e){var t=e.error;return t?n.a.createElement("span",{className:"text-danger"},n.a.createElement("strong",null,n.a.createElement("i",{className:"fa fa-exclamation-circle"})," "),t.message):null};i.propTypes={field:s.a.string,error:s.a.shape({type:s.a.string,message:s.a.string})},t.a=i},34:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(50),s=a.n(o),i=function(){return n.a.createElement("div",{className:"text-center mb-4"},n.a.createElement("img",{src:s.a.logoUrl,alt:"logo",width:"150"}),n.a.createElement("div",{className:"mt-1 text-primary text-center text-small"},n.a.createElement("strong",null,"Version: ",s.a.version," ",s.a.tag)))};t.a=n.a.memo(i)},36:function(e,t,a){"use strict";var r=a(25),n=a(29),o=a(20),s={signUserIn:function(e){var t=o.a.generateRandomHash(32),a=o.a.generateRandomHash(36);n.a.setItem("deviceId",t),n.a.setItem("deviceType","DEVICE_TYPE_WEB"),n.a.setItem("notificationToken",a);var s={deviceInfo:{deviceId:t,deviceType:"DEVICE_TYPE_WEB",notificationToken:a},username:e.username.trim(),password:e.password.trim()};return r.a.post("/auth/login",s).then((function(e){return e&&(n.a.setItem("isLoggedIn",!0),n.a.setItem("loggedInDateTime",new Date),n.a.setItem("accessToken",e.accessToken),n.a.setItem("refreshToken",e.refreshToken),n.a.setItem("expiryTime",e.expiryDuration),n.a.setItem("tokenType",e.tokenType),n.a.setItem("roles",e.roles)),Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},registerUser:function(e){return r.a.post("/auth/register",e).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},myProfile:function(){return r.a.get("/users/me",!0).then((function(e){return n.a.setItem("isLocalCustomer",e.result.data.localCustomer),n.a.setItem("user",JSON.stringify(e.result.data)),Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},checkSession:function(){return r.a.get("/users/me/check-session",!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},checkUsernameInUse:function(e){return r.a.get("/auth/check-username-in-use?username="+e.trim()).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},checkEmailInUse:function(e){return r.a.get("/auth/check-email-in-use?email="+e.trim()).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},checkPhoneNoInUse:function(e,t){return r.a.get("/auth/check-phone-in-use?countryId="+e+"&phoneNo="+t.trim()).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},forgotPassword:function(e){return r.a.post("/auth/password/resetlink",e).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},resetPassword:function(e){return r.a.post("/auth/password/reset",e).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},verifyUserRegistration:function(e){return r.a.get("/auth/registration-confirmation?token="+e).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},resendVerificationEmail:function(e){return r.a.get("/auth/resend-registration-token?token="+e).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)}))},logout:function(){return r.a.post("/users/me/logout",{deviceInfo:{deviceId:n.a.getItem("deviceId"),deviceType:n.a.getItem("deviceType"),notificationToken:n.a.getItem("notificationToken")}},!0).then((function(e){return Promise.resolve(e)}),(function(e){return Promise.reject(e)})).finally((function(e){return n.a.setItem("isLoggedIn",!1),n.a.removeItem("loggedInDateTime"),n.a.removeItem("isLocalCustomer"),n.a.removeItem("accessToken"),n.a.removeItem("refreshToken"),n.a.removeItem("expiryTime"),n.a.removeItem("tokenType"),n.a.removeItem("roles"),n.a.removeItem("user"),Promise.resolve(e)}))}};t.a=s},384:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(1),s=a.n(o),i=a(90),c=a.n(i),l=a(91),m=a.n(l),u=a(18),d=a.n(u),f=a(22),p=a(357),h=a.n(p),g=a(124),v=a(29),E=JSON.parse(v.a.getItem("firebaseSettings")),y={appId:g.a.decryptData(E.appId),apiKey:g.a.decryptData(E.apiKey),authDomain:g.a.decryptData(E.authDomain),databaseURL:g.a.decryptData(E.databaseURL),projectId:g.a.decryptData(E.projectId),storageBucket:g.a.decryptData(E.storageBucket),messagingSenderId:g.a.decryptData(E.messagingSenderId),measurementId:g.a.decryptData(E.measurementId)};h.a.initializeApp(y);var b=h.a,N=a(31),w=a(16),k=a(33),x=a(382),P=a(2),I=a(24),C=a(34),j=a(36),T=a(89),L=a(20),S=window.console,D=function(e){var t=Object(r.useState)(null),a=d()(t,2),o=a[0],s=a[1],i=Object(r.useState)(!1),l=d()(i,2),u=l[0],p=l[1],h=Object(r.useState)([]),g=d()(h,2),v=g[0],E=g[1],y=Object(r.useState)(!1),k=d()(y,2),D=k[0],O=k[1],U=Object(r.useState)(null),M=d()(U,2),F=M[0],R=M[1],_=Object(r.useState)(null),q=d()(_,2),Y=q[0],V=q[1],A=Object(r.useState)("Send Verification Code"),B=d()(A,2),z=B[0],J=B[1],W=Object(r.useState)(new URLSearchParams(e.location.search).get("ref")||""),$=d()(W,1)[0],H=Object(N.a)(),K=H.register,Z=H.handleSubmit,G=H.errors,Q=H.getValues,X=H.formState,ee=X.touched,te=X.dirty,ae=X.isSubmitting,re=X.isSubmitted,ne=v.find((function(e){return e.id===+Q().country}));Object(r.useEffect)((function(){oe(),s(new b.auth.RecaptchaVerifier("recaptcha")),T.a.getCountries().then((function(e){E(e.result.data)}))}),[]);var oe=function(){L.a.loadAssets({cssLinks:[],jsLinks:["/assets/modules/jquery-pwstrength/jquery.pwstrength.min.js","/assets/js/page/auth-register.js"]})},se=function(){var t=m()(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(D||a.otpCode){t.next=3;break}return R({message:"Complete this captcha to send OTP code."}),t.abrupt("return",ce(ne.dialCode+a.phoneNumber));case 3:return t.next=5,ie(a.otpCode);case 5:if(!t.sent){t.next=12;break}return p(!0),a.referalCode=$,a.fullName=a.firstName+" "+a.lastName,a.country={id:a.country},t.abrupt("return",j.a.registerUser(a).then((function(t){p(!1),f.a.success(t.message,{position:"top-right"}),t.success&&e.history.push("/login")}),(function(e){p(!1),f.a.error(e.message,{position:"top-right"})})));case 12:return t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ie=function(){var e=m()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.confirm(t).then((function(e){return!!e.user})).catch((function(e){return S.log(e.message),f.a.error("Invalid OTP Code. Please enter the code sent to your phone.",{position:"top-right"}),!1}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){b.auth().signInWithPhoneNumber(e,o).then((function(e){O(!0),V(e),J("Verify and Register")})).catch((function(e){O(!1),J("Resend Verification Code"),f.a.error("Invalid Phone Number provided.("+e.message+")",{position:"top-right"})}))},le=function(e){var t="";return ee[e]&&te&&re&&(t=" is-valid"),G[e]&&(t=" is-invalid"),t},me=function(){var e=m()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.checkUsernameInUse(t.trim()).then((function(e){return"false"===e.message||"The username is already taken."}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=m()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.checkEmailInUse(t.trim()).then((function(e){return"false"===e.message||"The Email is already taken."}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=m()(c.a.mark((function e(t,a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.checkPhoneNoInUse(t,a).then((function(e){return"false"===e.message||"The Phone Number is already taken."}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"container mt-3"},n.a.createElement("div",{className:"pointer",onClick:function(){return e.history.go(-1)}},n.a.createElement("span",{className:"text-primary mr-3"},n.a.createElement("i",{className:"fas fa-arrow-left mr-2"})," Back")),n.a.createElement(x.a,{in:!0,appear:!0,timeout:1500,classNames:"fade"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-12 col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-8 offset-lg-2 col-xl-8 offset-xl-2"},n.a.createElement(C.a,null),n.a.createElement("div",{className:"card card-primary "+(u?"spinner":"")},n.a.createElement(P.a,{isLoading:u}),n.a.createElement("div",{className:"card-header"},n.a.createElement("h4",{className:"card-title"},"Register as New User",n.a.createElement("div",{className:"text-primary text-small"},n.a.createElement("i",{className:"fa fa-info-circle"}),"  Enter the your details that will help us identify you in the system."))),n.a.createElement("div",{className:"card-body"},n.a.createElement("form",{role:"form",className:"needs-validation",onSubmit:Z(se)},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-lg-6"},n.a.createElement("label",{htmlFor:"frist_name"},"First Name:"),n.a.createElement("input",{id:"frist_name",name:"firstName",placeholder:"Eg. John",className:"form-control"+le("firstName"),ref:K({required:"Your first name can't be empty."}),autoFocus:!0}),n.a.createElement(I.a,{error:G.firstName})),n.a.createElement("div",{className:"form-group col-lg-6"},n.a.createElement("label",{htmlFor:"last_name"},"Last Name:"),n.a.createElement("input",{id:"last_name",name:"lastName",placeholder:"Eg. Mech Doe",className:"form-control"+le("lastName"),ref:K({required:"Your last name can't be empty."})}),n.a.createElement(I.a,{error:G.lastName}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-lg-6"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{className:"form-control-label",htmlFor:"input-device"},"Select Country:"),n.a.createElement("select",{id:"input-device",name:"country",className:"custom-select "+le("country"),ref:K({required:"Please select a Country"})},n.a.createElement("option",{key:"opt-no-device",value:""},"Select Contact Country"),v.map((function(e){return n.a.createElement("option",{key:e.countryCode,value:e.id},L.a.truncateString(e.name,30)," (",e.dialCode,")")}))),n.a.createElement("div",{className:"help-block"},n.a.createElement(I.a,{error:G.country})))),n.a.createElement("div",{className:"form-group col-lg-6 mb-0"},n.a.createElement("label",{htmlFor:"phone_number"},"Phone Number ",n.a.createElement("small",null,"(Without Country Code)"),":"),n.a.createElement("input",{id:"phone_number",type:"number",name:"phoneNumber",placeholder:"Eg. 9843089723",className:"form-control"+le("phoneNumber"),ref:K({required:"Enter your phone number.",minLength:{value:9,message:"Phone Number should be of 9 digits."},maxLength:{value:13,message:"Phone Number should be of 13 digits."},pattern:{value:/^[0-9]{9,13}$/i,message:"Enter phone number is not a valid number."},validate:function(e){return de(ne.id,e)}})}),n.a.createElement(I.a,{error:G.phoneNumber}))),n.a.createElement("div",{className:"form-divider"},n.a.createElement("div",{className:"section-title mt-1"},"Your Login Credentials",n.a.createElement("div",{className:"text-info text-small"},n.a.createElement("i",{className:"fa fa-info-circle"}),"  Your information is safe with bank level security."))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-lg-6"},n.a.createElement("label",{htmlFor:"email"},"Email:"),n.a.createElement("input",{id:"email",name:"email",placeholder:"Eg. johndoe@example.com",className:"form-control"+le("email"),ref:K({required:"Please enter your email address.",pattern:{value:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i,message:"Invalid Email address or check for ending space"},validate:ue})}),n.a.createElement(I.a,{error:G.email})),n.a.createElement("div",{className:"form-group col-lg-6"},n.a.createElement("label",{htmlFor:"username"},"Username:"),n.a.createElement("input",{id:"username",name:"username",placeholder:"Eg. jonhdoe",className:"form-control"+le("username"),ref:K({required:"Please specify your username.",minLength:{value:3,message:"Username should be minimum of 3 characters."},maxLength:{value:16,message:"Username can't contain more than 16 characters."},validate:me})}),n.a.createElement(I.a,{error:G.username}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-lg-6"},n.a.createElement("label",{htmlFor:"password",className:"d-block"},"Password:"),n.a.createElement("input",{id:"password",type:"password",className:"form-control pwstrength"+le("password"),"data-indicator":"pwindicator",name:"password",placeholder:"xxxxxxxxxx",ref:K({required:"You must specify a password.",minLength:{value:8,message:"Password minimum of 8 characters."},maxLength:{value:16,message:"Password cannot contain more than 16 characters."}})}),n.a.createElement(I.a,{error:G.password}),n.a.createElement("div",{id:"pwindicator",className:"pwindicator"},n.a.createElement("div",{className:"bar"})," ",n.a.createElement("div",{className:"label"}))),n.a.createElement("div",{className:"form-group col-lg-6"},n.a.createElement("label",{htmlFor:"confirm_password",className:"d-block"},"Confirm Password:"),n.a.createElement("input",{id:"confirm_password",type:"password",name:"confirmPassword",placeholder:"xxxxxxxxxx",className:"form-control"+le("confirmPassword"),ref:K({required:"Please confirm your password.",minLength:{value:8,message:"Password minimum of 8 characters."},maxLength:{value:16,message:"Password cannot contain more than 16 characters."},validate:function(e){return e===Q().password||"The passwords do not match."}})}),n.a.createElement(I.a,{error:G.confirmPassword}))),n.a.createElement("div",{style:{display:D?"none":"block"}},n.a.createElement("div",{className:"form-group",id:"recaptcha"}),n.a.createElement("div",{className:"form-group"},n.a.createElement(I.a,{error:F}))),D&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-divider mt-0"},n.a.createElement("div",{className:"section-title mt-1"},"Phone Verification",n.a.createElement("div",{className:"text-info text-small"},n.a.createElement("i",{className:"fa fa-info-circle"}),"  We've sent you OTP code to your phone. Please enter it in the following field."))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"form-group col-lg-12"},n.a.createElement("label",{htmlFor:"otpCode"},"Enter OTP Code:"),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{id:"otpCode",name:"otpCode",placeholder:"Eg. 123456",className:"form-control"+le("otpCode"),ref:K({required:"Enter the code sent to your phone",minLength:{value:6,message:"Code should be of 6 digits."},maxLength:{value:6,message:"Code should be of 6 digits."},pattern:{value:/^[0-9]{6}$/i,message:"Enter the valid 6 digit code."}})}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{onClick:function(e){return e.preventDefault(),O(!1),ce(ne.dialCode+Q().phoneNumber)},className:"btn btn-primary btn-xm"},n.a.createElement("i",{className:"fa fa-info-circle"})," Resend Code"))),n.a.createElement(I.a,{error:G.otpCode})))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"text-primary"},n.a.createElement("i",{className:"fa fa-info-circle"}),"  Learn about"," ",n.a.createElement("strong",null,n.a.createElement(w.b,{to:"/terms-and-conditions",className:"text-decoration-none"},n.a.createElement("strong",null,"Privicy Policy"))),", how we handle your data and privacy.")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"custom-control custom-checkbox"},n.a.createElement("input",{type:"checkbox",name:"agree",className:"custom-control-input",id:"agree",value:"yes",ref:K({required:"You must agree our Terms and Conditions before you proceed."})}),n.a.createElement("label",{className:"custom-control-label",htmlFor:"agree"},"I agree to the"," ",n.a.createElement(w.b,{to:"/terms-and-conditions",className:"text-decoration-none"},n.a.createElement("strong",null,"Terms and Conditions")))),n.a.createElement(I.a,{error:G.agree})),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{disabled:ae,type:"submit",className:"btn btn-primary btn-lg btn-block"},z))))),n.a.createElement("div",{className:"mt-5 text-muted text-center"},"Already have an account?"," ",n.a.createElement(w.b,{to:"/login",className:"text-decoration-none"}," ","Login Now"))),n.a.createElement("footer",{className:"main-footer text-center"},"CopyRight © 2020 Android Bulk SMS"))))};D.propTypes={history:s.a.any,location:s.a.object};var O=n.a.memo(Object(k.g)(D)),U=function(){return n.a.createElement("section",{className:"section"},n.a.createElement(O,null))};U.propTypes={title:s.a.string};t.default=U}}]);